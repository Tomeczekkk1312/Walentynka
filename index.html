<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="favicon-32x32.png" type="image/x-icon">
  <title>Zostaniesz mojƒÖ walentynkƒÖ?</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: Arial, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: linear-gradient(135deg, #d66d75, #e29587);
      color: white;
      overflow: hidden;
      padding: 10px;
    }

    .heart-background {
      position: fixed;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .heart {
      position: absolute;
      color: rgba(255,0,0,0.5);
      animation: float 6s linear infinite;
    }

    @keyframes float {
      from { transform: translateY(100vh); opacity: 1; }
      to { transform: translateY(-10vh); opacity: 0; }
    }

    .card {
      background: #222;
      padding: 30px;
      border-radius: 20px;
      width: 400px;
      max-width: 90%;
      text-align: center;
      z-index: 2;
    }

    h1 { margin-bottom: 10px; }

    input {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border-radius: 10px;
      border: none;
      font-size: 16px;
      text-align: center;
    }

    .button-container {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 10px;
    }

    button {
      background: #ff6b81;
      border: none;
      color: white;
      padding: 12px 20px;
      border-radius: 50px;
      font-size: 18px;
      cursor: pointer;
      width: 130px;
    }

    button:hover { background: #ff4757; }

    #noBtn { transition: transform 0.2s; }

    .response {
      margin-top: 15px;
      display: none;
      font-size: 1.2rem;
      white-space: pre-line;
    }

    .raccoon {
      position: fixed;
      width: 150px;
      bottom: 5px;
      z-index: 3;
      pointer-events: none;
    }

    .raccoon.left { left: 5px; }
    .raccoon.right { right: 5px; }
  </style>
</head>

<body>

<div class="heart-background" id="heartBackground"></div>

<div class="card">
  <h1>Zostaniesz mojƒÖ walentynkƒÖ? ‚ù§Ô∏è</h1>

  <input type="text" id="username" placeholder="Twoje imiƒô">

  <input type="date" id="datePicker" style="display:none;">
  <input type="time" id="timePicker" style="display:none;">

  <div class="button-container">
    <button id="yesBtn">Tak!</button>
    <button id="noBtn">Nie...</button>
  </div>

  <p id="response" class="response"></p>
</div>

<img src="lewo.png" class="raccoon left">
<img src="prawo.png" class="raccoon right">

<script>
  const DISCORD_WEBHOOK_URL = "https://discord.com/api/webhooks/1337408597612826694/6PuKfBgcsfONfb1PESUQFlMa-1taDOFZSFEs1Fvl4WAJijCXFhTVpiibV9GTm4vilh-v";

  const noBtn = document.getElementById("noBtn");
  const yesBtn = document.getElementById("yesBtn");
  const nameInput = document.getElementById("username");
  const datePicker = document.getElementById("datePicker");
  const timePicker = document.getElementById("timePicker");
  const response = document.getElementById("response");

  let sessionCompleted = false;

  function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "‚ù§Ô∏è";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = 20 + Math.random() * 20 + "px";
    document.getElementById("heartBackground").appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
  }
  setInterval(createHeart, 300);

  noBtn.addEventListener("mouseover", () => {
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 50);
    noBtn.style.position = "fixed";
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
  });

  yesBtn.addEventListener("click", () => {
    const name = nameInput.value.trim();
    if (!name) return alert("Podaj imiƒô!");

    response.style.display = "block";
    response.textContent = `Super üòç ${name}, wybierz datƒô i godzinƒô ‚ù§Ô∏è`;

    datePicker.style.display = "block";
    timePicker.style.display = "block";

    confetti({ particleCount: 120, spread: 80 });
  });

  timePicker.addEventListener("change", () => {
    if (sessionCompleted) return;

    if (!datePicker.value || !timePicker.value) return;

    sessionCompleted = true;

    const name = nameInput.value.trim();
    const date = new Date(datePicker.value).toLocaleDateString("pl-PL");
    const time = timePicker.value;

    response.textContent = `üíñ Randka potwierdzona!\nüìÖ ${date}\n‚è∞ ${time}`;

    fetch(DISCORD_WEBHOOK_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        content: `üíñ WALENTYNKA POTWIERDZONA üíñ\nüë§ ${name}\nüìÖ ${date}\n‚è∞ ${time}`
      })
    });
  });
</script>

</body>
</html>
